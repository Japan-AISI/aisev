[English version is here.](rt-en.md)

# 自動レッドチーミング 説明書

本説明書では、自動レッドチーミング機能の概要と利用手順を説明します。


# 概要

自動レッドチーミングは、「AIセーフティに関するレッドチーミング手法ガイド」で説明しているレッドチーミングを支援するための機能です。レッドチーミングは、評価対象のAIシステムやAIシステムが担当する業務に関する有識者やAIセーフティやセキュリティに関する有識者など、多様な関係者が参画し、AIシステムの開発・運用の様々なフェーズで実施する活動です。現状の自動レッドチーミング機能は、レッドチーミングのすべてを自動化する機能ではなく、一部を自動化することでレッドチーミングを従来より容易に実施できるようにすることを意図した機能です。
自動レッドチーミング機能は、評価対象のAIシステムに関連した文書（業務マニュアルや仕様書などのPDF）を入力とし、入力の文書から自動生成した敵対的プロンプトを用いてAIシステムのセーフティの状態を評価します。具体的には、以下の順序で評価を行います。

1. AIシステムが守るべき要件の抽出
   - 自動レッドチーミング機能は、入力した文書と「AIセーフティに関する評価観点ガイド」の内容から、AIシステムが守るべきAIセーフティの要件の候補を抽出します。
2. 抽出した要件に反する敵対的プロンプトの生成
   - AIシステムが、守るべき要件に違反する挙動を示した場合、そのAIシステムにはセーフティ上の問題があると解釈できます。
   - 自動レッドチーミング機能は、AIシステムが要件に反した出力をするように仕向ける敵対的プロンプトを生成します。
3. 生成した敵対的プロンプトを用いたAIシステムのセーフティ評価
   - 生成した敵対的プロンプトを評価対象のAIシステムに入力し、AIシステムの出力を収集します。
   - 収集した出力と要件を比較し、要件を守っているかどうかを判定します。
   - 要件を守っていない出力が存在する場合、対応する敵対的プロンプトに関して何らかの脆弱性があると解釈できます。


# 自動レッドチーミングのセットアップ

自動レッドチーミングはAIセーフティ評価環境に同梱していますが、独立性の高いツールで利用の有無はオプションであるため、追加のセットアップ作業が必要です。

## セットアップ手順

自動レッドチーミング機能を利用する場合、以下の手順で事前にセットアップを行うことが必要になります。

1. ターミナルを開き、評価環境のフォルダにある`llm-evaluation-system`フォルダへ移動してください。
   ```
   cd llm-evaluation-system/
   ```

2. 評価環境連携サービスのDockerコンテナを作成してください。
   ```
   docker compose build
   ```

3. 作成した評価環境連携サービスのDockerコンテナを起動します。`manager-backend`というコンテナ名で起動されます。  
   `manager-backend`コンテナが起動していない場合、評価環境から自動レッドチーミングの画面へ遷移できません。
   ```
   docker compose up
   ```

4. 評価環境のホーム画面で **自動 RedTeaming ツール**ボタンを押してください。
   初回アクセスの際は画面遷移に時間がかかる場合があり、ページが表示されない場合は、ページをリロードしてください。

5. 自動レッドチーミングの初期画面が表示されます。


# 利用手順



